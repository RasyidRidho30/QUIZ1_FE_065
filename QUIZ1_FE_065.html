<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Form Kasir</title>
      <link
         href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
         rel="stylesheet"
         integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
         crossorigin="anonymous"
      />
   </head>
   <style>
      body {
         background-color: #f6f6f6;
      }
      .container {
         background-color: white;
      }
   </style>
   <body>
      <div
         class="container mt-4 col-11 col-sm-8 col-md-6 col-lg-9 p-4 rounded-4 shadow"
      >
         <form action="">
            <h4>Form Kasir</h2>
            
            <div class="mb-3">
               <label for="nama">Nama Customer</label>
               <input id="nama" type="text" class="form-control" />
            </div>
            

            <label>Staus Customer</label>
            <div class="form-input d-flex mt-1 mb-3 gap-3">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="status" id="nonmember" />
                  <label for="nonmember">Non-Member</label>
               </div>
               <div class="form-check">
                  <input class="form-check-input" type="radio" name="status" id="member" />
                  <label for="member">Member (Diskon 5%)</label>
               </div>
               
            </div>

            <div class="mb-3">
               <label for="barang">Pilih Barang</label>

               <select
                  class="form-select form-control"
                  id="barang"
                  aria-label="barang"
               >
                  <option selected>Pilih..</option>
                  <option value="Pensil">Pensil</option>
                  <option value="Buku">Buku</option>
                  <option value="Ballpoint">Ballpoint</option>
               </select>
            </div>

            <div class="mb-3">
               <label for="harga">Harga Satuan</label>
               <input id="harga" type="number" class="form-control" />
            </div>

            <div class="mb-3">
               <label for="jumlah">Jumlah</label>
               <input id="jumlah" type="number" class="form-control" />
            </div>

            <div class="mb-3">
               <label for="subtotal">Sub Total</label>
               <input id="subtotal" type="text" class="form-control" disabled/>
            </div>

            <div class="mb-3">
               <label for="diskon">Diskon</label>
               <input id="diskon" type="text" class="form-control" disabled/>
            </div>

            <div class="mb-3">
               <label for="total">Total</label>
               <input id="total" type="text" class="form-control" disabled/>
            </div>


            <div
               class="mt-3 gap-2"
            >
               <input
                  type="submit"
                  value="Simpan Transaksi"
                  class="btn btn-success"
               />
            </div>
         </form>
      </div>
   </body>
   <script>
        const harga = document.getElementById("harga");
        const jumlah = document.getElementById("jumlah");
        const subtotal = document.getElementById("subtotal");
        const diskon = document.getElementById("diskon");
        const total = document.getElementById("total");
        const memberRadio = document.getElementById("member");
        const nonMemberRadio = document.getElementById("nonmember");
    
        hitungTotal();

        function hitungTotal() {
             const hargaValue = harga.value;
             const jumlahValue = jumlah.value;

             const subtotalValue =hargaValue * jumlahValue;
             subtotal.value = subtotalValue.toLocaleString('id-ID', { style: 'currency', currency: 'IDR' });

             let diskonValue = 0;
             if (memberRadio.checked) {
                diskonValue = subtotalValue * 0.05;
             }

             diskon.value = diskonValue.toLocaleString('id-ID', { style: 'currency', currency: 'IDR' });
    
             const totalValue = subtotalValue - diskonValue;
             total.value = totalValue.toLocaleString('id-ID', { style: 'currency', currency: 'IDR' });
        }
    
        harga.addEventListener("input", hitungTotal);
        jumlah.addEventListener("input", hitungTotal);
        memberRadio.addEventListener("change", hitungTotal);
        nonMemberRadio.addEventListener("change", hitungTotal);
   </script>
</html>
